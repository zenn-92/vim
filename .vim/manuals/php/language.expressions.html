<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Выражения</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.constants.predefined.html">&quot;Волшебные&quot; константы</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.operators.html">Операторы</a></div>
 <div class="up"><a href="langref.html">Справочник языка</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.expressions" class="chapter">
   <h1>Выражения</h1>

   <p class="simpara">
    Выражения - это самые важные строительные элементы PHP. Почти все, что вы пишете
    в PHP, является выражением. Самое простое и точное определение
    выражения - &quot;все что угодно, имеющее значение&quot;.
   </p>
   <p class="simpara">
    Основными формами выражений являются константы и переменные. Если
    вы записываете &quot;<var class="varname"><var class="varname">$a</var></var> = 5&quot;, вы присваиваете &#039;5&#039; переменной
    <var class="varname"><var class="varname">$a</var></var>. &#039;5&#039;, очевидно, имеет значение 5 или, другими словами,
    &#039;5&#039; это выражение со значением 5 (в данном случае &#039;5&#039; - это целочисленная
    константа).
   </p>
   <p class="simpara">
    После этого присвоения вы ожидаете, что значением <var class="varname"><var class="varname">$a</var></var>
    также является 5, поэтому, если вы написали <var class="varname"><var class="varname">$b</var></var> =
    <var class="varname"><var class="varname">$a</var></var>, вы полагаете, что работать это будет так же, как
    если бы вы написали <var class="varname"><var class="varname">$b</var></var> = 5. Другими словами,
    <var class="varname"><var class="varname">$a</var></var> это также выражение со значением 5. Если все работает
    верно, то именно так и произойдет.
   </p>
   <p class="para">
    Немного более сложными примерами выражений являются функции. Например,
    рассмотрим следующую функцию:
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="simpara">
    Исходя из того, что вы хорошо знакомы с концепцией функций (если нет,
    то прочитайте главу о <a href="language.functions.html" class="link">функциях</a>), вы
    полагаете, что запись <em>$c = foo()</em> абсолютно
    эквивалентна записи <em>$c = 5</em>, и вы правы. Функции -
    это выражения, значением которых является то, что возвращает функция.
    Поскольку <em>foo()</em> возвращает 5, значением выражения
    <em>&#039;foo()&#039;</em> является 5.
    Как правило, функции возвращают не просто статическое значение, а
    что-то вычисляют.
   </p>
   <p class="simpara">
    Разумеется, значения в PHP не обязаны быть целочисленными, и очень
    часто ими не являются. PHP поддерживает четыре типа скалярных значений:
    целочисленные (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>), с плавающей точкой (<span class="type"><a href="language.types.float.html" class="type float">float</a></span>),
    строковые значения (<span class="type"><a href="language.types.string.html" class="type string">string</a></span>) и булевы (<span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>)
    значения (скалярными являются значения, которые вы не можете &#039;разбить&#039; на
    меньшие части, в отличие, например, от массивов). PHP поддерживает также два
    комбинированных (не скалярных) типа: массивы и объекты. Любое значение такого
    типа может присваиваться переменной или возвращаться.
    функцией.
   </p>
   <p class="simpara">
    Однако PHP, как и многие другие языки, понимает гораздо больше выражений.
    PHP - это язык, ориентированный на выражения и рассматривающий почти все как
    выражение. Вернемся к примеру, с которым мы уже имели дело:
    &#039;<var class="varname"><var class="varname">$a</var></var> = 5&#039;. Легко заметить, что здесь присутствуют два значения
    - значение целочисленной константы &#039;5&#039; и значение переменной <var class="varname"><var class="varname">$a</var></var>,
    также принимающей значение 5. Но на самом деле здесь присутствует и еще одно
    значение - значение самого присвоения. Само присвоение вычисляется в
    присвоенное значение, в данном случае - в 5. На практике это означает, что
    &#039;<var class="varname"><var class="varname">$a</var></var> = 5&#039;, независимо от того, что оно делает, является
    выражением со значением 5. Таким образом, запись &#039;<var class="varname"><var class="varname">$b</var></var> =
    (<var class="varname"><var class="varname">$a</var></var> = 5)&#039; равносильна записи &#039;<var class="varname"><var class="varname">$a</var></var> = 5;
    <var class="varname"><var class="varname">$b</var></var> = 5;&#039; (точка с запятой обозначает конец выражения).
    Поскольку операции присвоения анализируются справа налево, вы также
    можете написать &#039;<var class="varname"><var class="varname">$b</var></var> = <var class="varname"><var class="varname">$a</var></var> = 5&#039;.
   </p>
   <p class="simpara">
    Другой хороший пример ориентированности на выражения - префиксный и
    постфиксный инкремент и декремент. Пользователи PHP и многих
    других языков возможно уже знакомы с формой записи <em>variable++</em>
    и <em>variable--</em>. Это <a href="language.operators.increment.html" class="link">
    операторы инкремента и декремента</a>. Также как и C, PHP
    поддерживает два типа инкремента - префиксный и постфиксный. Они
    оба инкрементируют значение переменной и эффект их действия на нее
    одинаков. Разница состоит в значении выражения инкремента.
    Префиксный инкремент, записываемый как &#039;++<var class="varname"><var class="varname">$variable</var></var>&#039;,
    вычисляется в инкрементированное значение (PHP инкрементирует переменную до того
    как прочесть ее значение, отсюда название &#039;пре-инкремент&#039;).
    Постфиксный инкремент, записываемый как &#039;<var class="varname"><var class="varname">$variable</var></var>++&#039;,
    вычисляется в первоначальное значение переменной $variable до ее приращения
    (PHP инкрементирует переменную после прочтения ее значения, отсюда
    название &#039;пост-инкремент&#039;).
   </p>
   <p class="simpara">
    Очень распространенным типом выражений являются выражения  <a href="language.operators.comparison.html" class="link">сравнения</a>.
    Результатом вычислений являются <strong><code>FALSE</code></strong> (ложь)
    или <strong><code>TRUE</code></strong> (истина). PHP поддерживает операции сравнения &gt; (больше), &gt;= (больше
    либо равно), == (равно), != (не равно), &lt; (меньше) и &lt;=
    (меньше либо равно). Он также поддерживает операторы строгого
    равенства: === (равно и одного типа) и !== (не равно или не одного
    типа). Чаще всего эти выражения используются в операторах условного выполнения,
    таких как <em>if</em>.
   </p>
   <p class="simpara">
    Последний пример выражений, который мы здесь рассмотрим, это
    смешанные выражения операции и присвоения. Вы уже знаете, что если
    вы хотите увеличить <var class="varname"><var class="varname">$a</var></var> на 1, вы можете просто написать
    &#039;<var class="varname"><var class="varname">$a</var></var>++&#039; или &#039;++<var class="varname"><var class="varname">$a</var></var>&#039;. Но что, если вы
    хотите прибавить больше, чем единицу,например, 3? Вы могли бы написать
    &#039;<var class="varname"><var class="varname">$a</var></var>++&#039; много раз, однако, очевидно это не очень
    рациональный и удобный способ. Гораздо более распространенной практикой
    является запись вида &#039;<var class="varname"><var class="varname">$a</var></var> = <var class="varname"><var class="varname">$a</var></var> + 3&#039;.
    &#039;<var class="varname"><var class="varname">$a</var></var> + 3&#039; вычисляется в значение <var class="varname"><var class="varname">$a</var></var> плюс
    3 и снова присваивается <var class="varname"><var class="varname">$a</var></var>, увеличивая в результате
    <var class="varname"><var class="varname">$a</var></var> на 3. В PHP, как и в некоторых других языках, таких как C,
    вы можете записать это более коротким образом, что увеличит очевидность смысла
    и быстроту понимания кода по прошествии времени. Прибавить 3 к текущему значению
    <var class="varname"><var class="varname">$a</var></var> можно с помощью записи &#039;<var class="varname"><var class="varname">$a</var></var> += 3&#039;.
    Это означает дословно &quot;взять значение <var class="varname"><var class="varname">$a</var></var>, прибавить к
    нему 3 и снова присвоить его переменной <var class="varname"><var class="varname">$a</var></var>&quot;. Кроме
    большей понятности и краткости, это быстрее работает. Значением
    &#039;<var class="varname"><var class="varname">$a</var></var> += 3&#039;, как и обычного присвоения, является присвоенное
    значение. Обратите внимание, что это НЕ 3, а суммированное значение
    <var class="varname"><var class="varname">$a</var></var> плюс 3 (то, что было присвоено <var class="varname"><var class="varname">$a</var></var>).
    Таким образом может использоваться любой бинарный оператор, например,
    &#039;<var class="varname"><var class="varname">$a</var></var> -= 5&#039; (вычесть 5 из значения <var class="varname"><var class="varname">$a</var></var>),
    &#039;<var class="varname"><var class="varname">$b</var></var> *= 7&#039; (умножить значение <var class="varname"><var class="varname">$b</var></var> на 7)
    и т.д.
   </p>
   <p class="para">
    Существует еще одно выражение, которое может выглядеть необычно,
    если вы не встречали его в других языках - тернарный условный
    оператор:
   </p>
   <p class="para">
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$first&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #0000BB">$second&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$third<br />?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    Если значением первого подвыражения является <strong><code>TRUE</code></strong> (не ноль),
    то выполняется второе подвыражение, которое и будет результатом
    условного выражения. В противном случае будет выполнено третье
    подвыражение и его значение будет результатом.
   </p>
   <p class="para">
    Следующий пример должен помочь вам немного улучшить понимание
    префиксного и постфиксного инкремента и выражений:
   </p>
   <p class="para">
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">double</span><span style="color: #007700">(</span><span style="color: #0000BB">$i</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">*</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;присвоить&nbsp;значение&nbsp;пять&nbsp;переменным&nbsp;$a&nbsp;и&nbsp;$b&nbsp;*/<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;постфиксный&nbsp;инкремент,&nbsp;присвоить&nbsp;значение&nbsp;$a&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(5)&nbsp;переменной&nbsp;$c&nbsp;*/<br /></span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;++</span><span style="color: #0000BB">$b</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;префиксный&nbsp;инкремент,&nbsp;присвоить&nbsp;увеличенное<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;значение&nbsp;$b&nbsp;(6)&nbsp;переменным&nbsp;$d&nbsp;и&nbsp;$e&nbsp;*/<br /><br />/*&nbsp;в&nbsp;этой&nbsp;точке&nbsp;и&nbsp;$d,&nbsp;и&nbsp;$e&nbsp;равны&nbsp;6&nbsp;*/<br /><br /></span><span style="color: #0000BB">$f&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">double</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">++);&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;присвоить&nbsp;удвоенное&nbsp;значение&nbsp;$d&nbsp;перед<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;инкрементом&nbsp;(2*6&nbsp;=&nbsp;12)&nbsp;переменной&nbsp;$f&nbsp;*/<br /></span><span style="color: #0000BB">$g&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">double</span><span style="color: #007700">(++</span><span style="color: #0000BB">$e</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;присвоить&nbsp;удвоенное&nbsp;значение&nbsp;$e&nbsp;после<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;инкремента&nbsp;(2*7&nbsp;=&nbsp;14)&nbsp;переменной&nbsp;$g&nbsp;*/<br /></span><span style="color: #0000BB">$h&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$g&nbsp;</span><span style="color: #007700">+=&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;сначала&nbsp;переменная&nbsp;$g&nbsp;увеличивается&nbsp;на&nbsp;10,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;приобретая,&nbsp;в&nbsp;итоге,&nbsp;значение&nbsp;24.&nbsp;Затем&nbsp;значение<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;присвоения&nbsp;(24)&nbsp;присваивается&nbsp;переменной&nbsp;$h,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;которая&nbsp;в&nbsp;итоге&nbsp;также&nbsp;становится&nbsp;равной&nbsp;24.&nbsp;*/<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="simpara">
    Некоторые выражения могут рассматриваться как инструкции. В
    данном случае инструкция имеет вид &#039;<em>expr ;</em> - выражение с
    последующей точкой с запятой. В записи <em>&#039;$b = $a = 5;&#039;</em>,
    <em>$a = 5</em> - это верное выражение, но само по себе не инструкция.
    Тогда как <em>&#039;$b = $a = 5;&#039;</em> является верной инструкцией.
   </p>
   <p class="simpara">
    Последнее, что стоит упомянуть, это истинность значения выражений.
    Во многих случаях, как правило, в условных операторах и циклах,
    вас может интересовать не конкретное значение выражения, а только
    его истинность (значение <strong><code>TRUE</code></strong> или <strong><code>FALSE</code></strong>).
    
    
    
    Константы <strong><code>TRUE</code></strong> и <strong><code>FALSE</code></strong> (регистро-независимые) - это два
    возможных булевых значения. При необходимости выражение
    автоматически преобразуется в булев тип. Подробнее о том, как это
    происходит, смотрите в <a href="language.types.type-juggling.html#language.types.typecasting" class="link">разделе о
    приведении типов</a>.
   </p>
   <p class="simpara">
    PHP предоставляет полную и мощную реализацию выражений, и их
    полное документирование выходит за рамки этого руководства.
    Вышеприведенные примеры должны дать вам представление о том, что
    они из себя представляют и как вы сами можете создавать полезные
    выражения. Далее, для обозначения любого верного выражения PHP в
    этой документации мы будем использовать сокращение <var class="varname"><var class="varname">expr</var></var>.
   </p>
  </div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.constants.predefined.html">&quot;Волшебные&quot; константы</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.operators.html">Операторы</a></div>
 <div class="up"><a href="langref.html">Справочник языка</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
