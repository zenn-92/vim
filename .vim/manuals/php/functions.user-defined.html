<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Функции, определяемые пользователем</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.functions.html">Функции</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="functions.arguments.html">Аргументы функции</a></div>
 <div class="up"><a href="language.functions.html">Функции</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="functions.user-defined" class="sect1">
   <h2 class="title">Функции, определяемые пользователем</h2>
 
   <p class="para">
   Приведем  пример синтаксиса, используемого для описания функций:
   </p>
   <p class="para">
    <div class="example" id="example-147">
     <p><strong>Пример #1 Псевдокод для демонстрации использования функций</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$arg_1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arg_2</span><span style="color: #007700">,&nbsp;</span><span style="color: #FF8000">/*&nbsp;...,&nbsp;*/&nbsp;</span><span style="color: #0000BB">$arg_n</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Example&nbsp;function.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$retval</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   
   <p class="simpara">
   Внутри функции можно использовать любой корректный PHP-код, 
   в том числе другие функции и даже объявления <a href="keyword.class.html" class="link">классов</a>.
   </p>
   <p class="para">
    Имена функций следуют тем же правилам, что и другие метки в PHP.
    Корректное имя функции начинается с буквы или знака подчеркивания,
    за которым следует любое количество букв, цифр или знаков
    подчеркивания. В качестве регулярного выражения оно может быть
    выражено так:
    <em>[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*</em>.
   </p>
   <div class="tip"><strong class="tip">Подсказка</strong><p class="simpara">Смотрите также
<a href="userlandnaming.html" class="xref">Руководство по именованию</a>.</p></div>
   <p class="simpara">
    Функции не обязаны быть определены до их использования, <em class="emphasis">исключая</em> 
    тот случай, когда функции определяются условно, как это показано
    в двух последующих примерах.
   </p>
   <p class="para">
    В случае, когда функция определяется в зависимости от какого-либо условия, например,
    как это показано в двух приведенных ниже примерах, обработка описания функции
    должна <em class="emphasis">предшествовать</em> ее вызову.
   </p>
   <p class="para">
    <div class="example" id="example-148">
     <p><strong>Пример #2 Функции, зависящие от условий</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$makefoo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Мы&nbsp;не&nbsp;можем&nbsp;вызвать&nbsp;функцию&nbsp;foo()&nbsp;в&nbsp;этом&nbsp;месте,<br />&nbsp;&nbsp;&nbsp;поскольку&nbsp;она&nbsp;еще&nbsp;не&nbsp;определена,&nbsp;но&nbsp;мы&nbsp;можем&nbsp;<br />&nbsp;&nbsp;&nbsp;обратиться&nbsp;к&nbsp;bar()&nbsp;*/<br /><br /></span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /><br />if&nbsp;(</span><span style="color: #0000BB">$makefoo</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Я&nbsp;не&nbsp;существую&nbsp;до&nbsp;тех&nbsp;пор,&nbsp;пока&nbsp;выполнение&nbsp;программы&nbsp;меня&nbsp;не&nbsp;достигнет.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;Теперь&nbsp;мы&nbsp;благополучно&nbsp;можем&nbsp;вызывать&nbsp;foo(),<br />&nbsp;&nbsp;&nbsp;поскольку&nbsp;$makefoo&nbsp;была&nbsp;интерпретирована&nbsp;как&nbsp;true&nbsp;*/<br /><br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$makefoo</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br />function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;<br />{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Я&nbsp;существую&nbsp;сразу&nbsp;с&nbsp;начала&nbsp;старта&nbsp;программы.\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    <div class="example" id="example-149">
     <p><strong>Пример #3 Вложенные функции</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;<br />{<br />&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;<br />&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Я&nbsp;не&nbsp;существую&nbsp;пока&nbsp;не&nbsp;будет&nbsp;вызвана&nbsp;foo().\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">/*&nbsp;Мы&nbsp;пока&nbsp;не&nbsp;можем&nbsp;обратиться&nbsp;к&nbsp;bar(),<br />&nbsp;&nbsp;&nbsp;поскольку&nbsp;она&nbsp;еще&nbsp;не&nbsp;определена.&nbsp;*/<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/*&nbsp;Теперь&nbsp;мы&nbsp;можем&nbsp;вызвать&nbsp;функцию&nbsp;bar(),<br />&nbsp;&nbsp;&nbsp;обработка&nbsp;foo()&nbsp;сделала&nbsp;ее&nbsp;доступной.&nbsp;*/<br /><br /></span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    Все функции и классы PHP имеют глобальную область видимости - 
    они могут быть вызваны вне функции, даже если были определены
    внутри и наоборот.
   </p>
   <p class="simpara">
    PHP не поддерживает перегрузку функции, также отсутствует возможность
    переопределить или удалить объявленную ранее функцию.
   </p>
   <blockquote class="note"><p><strong class="note">Замечание</strong>: 
    <span class="simpara">
     Имена функций регистронезависимы, тем не менее, более предпочтительно
     вызывать функции так, как они были объявлены.
    </span>
   </p></blockquote>   
   <p class="simpara">
    Функции PHP поддерживают как <a href="functions.arguments.html#functions.variable-arg-list" class="link">
    списки аргументов переменной длины</a>, так и 
    <a href="functions.arguments.html#functions.arguments.default" class="link">значения аргументов по умолчанию</a>. 
    Смотрите также описания функций
    <span class="function"><a href="function.func-num-args.html" class="function">func_num_args()</a></span>,
    <span class="function"><a href="function.func-get-arg.html" class="function">func_get_arg()</a></span>, и
    <span class="function"><a href="function.func-get-args.html" class="function">func_get_args()</a></span> для более детальной информации.
   </p>

   <p class="para">
    Можно также вызывать функции PHP рекурсивно. Однако, пытайтесь
    избегать вызовов рекурсивных функций/методов с более чем 100-200
    уровней рекурсии, так как это сильно бьет по стэку и может вызвать
    крах выполняемого скрипта.
    <div class="example" id="example-150">
     <p><strong>Пример #4 Рекурсивные функции</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">recursion</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">recursion</span><span style="color: #007700">(</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>

  </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.functions.html">Функции</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="functions.arguments.html">Аргументы функции</a></div>
 <div class="up"><a href="language.functions.html">Функции</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
