<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Форматирует число как денежную величину</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.metaphone.html">metaphone</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.nl-langinfo.html">nl_langinfo</a></div>
 <div class="up"><a href="ref.strings.html">Обработка строк</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.money-format" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">money_format</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.3.0, PHP 5)</p><p class="refpurpose"><span class="refname">money_format</span> &mdash; <span class="dc-title">Форматирует число как денежную величину</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.money-format-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>money_format</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$format</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$number</code></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><strong>money_format()</strong></span> форматирует число
   <code class="parameter">number</code> как денежную величину.
   Эта функция вызывает функцию <span class="function"><strong>strfmon()</strong></span> языка C,
   но позволяет преобразовать только одно число за один вызов.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.money-format-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">format</code></dt>

     <dd>

      <p class="para">
       Описание формата состоит из:
       <ul class="itemizedlist">
        <li class="listitem"><p class="para">символа <em>%</em></p></li>
        <li class="listitem"><p class="para">необязательных флагов</p></li>
        <li class="listitem"><p class="para">необязательной ширины поля</p></li>
        <li class="listitem"><p class="para">необязательной точности до запятой</p></li>
        <li class="listitem"><p class="para">необязательной точности после запятой</p></li>
        <li class="listitem"><p class="para">обязательного описателя преобразования</p></li>
       </ul>
      </p>
      <p class="formalpara">
       <h5 class="title">Флаги</h5>
       <p class="para">
        Могут быть использованы следующие флаги:
        <dl>

         
          <dt>
<em>=</em><span class="replaceable">f</span></dt>

          <dd>

           <p class="para">
            Символ <em>=</em>, за которым следует еще один символ
            <span class="replaceable">f</span>, задает символ заполнения.
            По умолчанию пробел.
           </p>
          </dd>

         
         
          <dt>
<em>^</em></dt>

          <dd>

           <p class="para">
            Отключает группировку символов (определяемую текущей локалью).
           </p>
          </dd>

         
         
          <dt>
<em>+</em> или <em>(</em></dt>

          <dd>

           <p class="para">
            Задает способ форматирования положительных и отрицательных
            значений. При использовании <em>+</em> будут
            использоваться аналоги символов <em>+</em> и
            <em>-</em> из текущей локали. Если указана
            <em>(</em>, отрицательные числа будут заключены в
            скобки. По умолчанию <em>+</em>.
           </p>
          </dd>

         
         
          <dt>
<em>!</em></dt>

          <dd>

           <p class="para">
            Подавляет вывод символа валюты.
           </p>
          </dd>

         
         
          <dt>
<em>-</em></dt>

          <dd>

           <p class="para">
            Если этот флаг задан, поля будут выравнены влево (с отбивкой вправо),
            вместо используемого по умолчанию выравнивания вправо (с отбивкой влево).
           </p>
          </dd>

         
        </dl>

       </p>
      </p>
      <p class="formalpara">
       <h5 class="title">Ширина поля</h5>
       <p class="para">
        <dl>

         
          <dt>
<span class="replaceable">w</span></dt>

          <dd>

           <p class="para">
            Строка из десятичных цифр, задающая минимальную ширину поля.
            Поле будет выравнено вправо, если не указан флаг
            <em>-</em>. Значение по умолчанию - 0 (ноль).
           </p>
          </dd>

         
        </dl>

       </p>
      </p>
      <p class="formalpara">
       <h5 class="title">Точность до запятой</h5>
       <p class="para">
        <dl>

         
          <dt>
<em>#</em><span class="replaceable">n</span></dt>

          <dd>

           <p class="para">
            Максимальное количество цифр (<span class="replaceable">n</span>),
            которое ожидается до запятой. Это обычно используется при выводе
            значений одно под другим, чтобы десятичные точки располагались в
            одной колонке, при этом используется символ заполнения, если
            число цифр меньше <span class="replaceable">n</span>. Если число цифр
            больше <span class="replaceable">n</span>, этот параметр игнорируется.
           </p>
           <p class="para">
            Если группировка не была отключена флагом <em>^</em>,
            разделители групп будут вставлены перед добавлением символов
            заполнения. Разделители групп не вставляются между символами
            заполнения, даже если заполнитель - цифра.
           </p>
           <p class="para">
            Для обеспечения выравнивания, все символы, выводимые до или
            после числа, такие как сивол валюты или знак, будут дополнены
            пробелами до одинаковой ширины.
           </p>
          </dd>

         
        </dl>

       </p>
      </p>
      <p class="formalpara">
       <h5 class="title">
        Точность после запятой
       </h5>
       <p class="para">
        <dl>

         
          <dt>
<em>.</em><span class="replaceable">p</span></dt>

          <dd>

           <p class="para">
            Точка, за которой следует число знаков (<span class="replaceable">p</span>),
            выводимых после запятой.
            Если значение <span class="replaceable">p</span> равно нулю, десятичная
            точка и цифры после нее не будут выводиться.
            Если этот параметр отсутствует, число знаков после запятой
            определяется текущей локалью. Перед форматированием число
            округляется до указанного количества знаков.
           </p>
          </dd>

         
        </dl>

       </p>
      </p>
      <p class="formalpara">
       <h5 class="title">
        Описатель преобразования
       </h5>
       <p class="para">
        <dl>

         
          <dt>
<em>i</em></dt>

          <dd>

           <p class="para">
            Используется международный денежный формат из текущей локали
            (например, для американской локали: USD 1,234.56).
           </p>
          </dd>

         
         
          <dt>
<em>n</em></dt>

          <dd>

           <p class="para">
            Используется национальный денежный формат из текущей локали
            (например, для локали de_DE: EU1.234,56).
           </p>
          </dd>

         
         
          <dt>
<em>%</em></dt>

          <dd>

           <p class="para">
            Вставляет символ <em>%</em>.
           </p>
          </dd>

         
        </dl>

       </p>
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">number</code></dt>

     <dd>

      <p class="para">
       Форматируемое число.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.money-format-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает отформатированную строку. Символы перед и после
   описания формата возвращаются без изменений.
   Если <code class="parameter">number</code> не является числом, то будет
   возвращен <strong><code>NULL</code></strong> и вызвана ошибка уровня <strong><code>E_WARNING</code></strong>.
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.money-format-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Функция <span class="function"><strong>money_format()</strong></span> определена только если
    в системе присутствует функция strfmon. Например, в Windows она
    отсутствует, поэтому <span class="function"><strong>money_format()</strong></span> не определена
    в Windows.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    На работу этой функции влияет установка категории
    <strong><code>LC_MONETARY</code></strong> текущей локали.
    Перед использованием этой функции установите нужную локаль с помощью
    <span class="function"><a href="function.setlocale.html" class="function">setlocale()</a></span>.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 examples" id="refsect1-function.money-format-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="example-4884">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>money_format()</strong></span></strong></p>
    <div class="example-contents"><p>
     Проиллюстрируем применение этой функции для различных локалей и
     разных описаний формата.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$number&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1234.56</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;международный&nbsp;формат&nbsp;в&nbsp;локали&nbsp;en_US<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_MONETARY</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'en_US'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">money_format</span><span style="color: #007700">(</span><span style="color: #DD0000">'%i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;USD&nbsp;1,234.56<br /><br />//&nbsp;Итальянский&nbsp;национальный&nbsp;формат&nbsp;с&nbsp;2&nbsp;знаками&nbsp;после&nbsp;запятой<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_MONETARY</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'it_IT'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">money_format</span><span style="color: #007700">(</span><span style="color: #DD0000">'%.2n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Eu&nbsp;1.234,56<br /><br />//&nbsp;Использование&nbsp;отрицательных&nbsp;чисел<br /></span><span style="color: #0000BB">$number&nbsp;</span><span style="color: #007700">=&nbsp;-</span><span style="color: #0000BB">1234.5672</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;национальный&nbsp;формат&nbsp;США,&nbsp;с&nbsp;использованием&nbsp;скобок&nbsp;для<br />//&nbsp;отрицательных&nbsp;чисел&nbsp;и&nbsp;10&nbsp;знаков&nbsp;до&nbsp;запятой<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_MONETARY</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'en_US'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">money_format</span><span style="color: #007700">(</span><span style="color: #DD0000">'%(#10n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;($&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,234.57)<br /><br />//&nbsp;подобно&nbsp;предыдущему,&nbsp;но&nbsp;с&nbsp;добавлением&nbsp;2&nbsp;знаков&nbsp;после&nbsp;запятой<br />//&nbsp;и&nbsp;'*'&nbsp;в&nbsp;качестве&nbsp;символа&nbsp;заполнения<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">money_format</span><span style="color: #007700">(</span><span style="color: #DD0000">'%=*(#10.2n'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;($********1,234.57)<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />//&nbsp;Выравнивание&nbsp;влево,&nbsp;ширина&nbsp;14&nbsp;знаков,&nbsp;8&nbsp;знаков&nbsp;до&nbsp;запятой,<br />//&nbsp;2&nbsp;знака&nbsp;после&nbsp;запятой,&nbsp;без&nbsp;разбиения&nbsp;на&nbsp;группы<br />//&nbsp;с&nbsp;использованием&nbsp;&nbsp;международного&nbsp;формата&nbsp;в&nbsp;локали&nbsp;de_DE.<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_MONETARY</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'de_DE'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">money_format</span><span style="color: #007700">(</span><span style="color: #DD0000">'%=*^-14#8.2i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1234.56</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Eu&nbsp;1234,56****<br /><br />//&nbsp;А&nbsp;теперь&nbsp;добавим&nbsp;текст&nbsp;перед&nbsp;и&nbsp;после&nbsp;описанием&nbsp;формата<br /></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_MONETARY</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'en_GB'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$fmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Итоговая&nbsp;сумма:&nbsp;%i&nbsp;(после&nbsp;10%%&nbsp;скидки)'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">money_format</span><span style="color: #007700">(</span><span style="color: #0000BB">$fmt</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1234.56</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">//&nbsp;Итоговая&nbsp;сумма:&nbsp;&nbsp;GBP&nbsp;1,234.56&nbsp;(после&nbsp;10%&nbsp;скидки)<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.money-format-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.setlocale.html" class="function" rel="rdfs-seeAlso">setlocale()</a> - Устанавливает настройки локали</span></li>
    <li class="member"><span class="function"><a href="function.sscanf.html" class="function" rel="rdfs-seeAlso">sscanf()</a> - Разбирает строку в соответствии с заданным форматом</span></li>
    <li class="member"><span class="function"><a href="function.sprintf.html" class="function" rel="rdfs-seeAlso">sprintf()</a> - Возвращает отформатированную строку</span></li>
    <li class="member"><span class="function"><a href="function.printf.html" class="function" rel="rdfs-seeAlso">printf()</a> - Выводит отформатированную строку</span></li>
    <li class="member"><span class="function"><a href="function.number-format.html" class="function" rel="rdfs-seeAlso">number_format()</a> - Форматирует число с разделением групп</span></li>
   </ul>
  </p>
 </div>


</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.metaphone.html">metaphone</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.nl-langinfo.html">nl_langinfo</a></div>
 <div class="up"><a href="ref.strings.html">Обработка строк</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
