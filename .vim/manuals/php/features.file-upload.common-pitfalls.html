<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Наиболее распространенные ошибки</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.file-upload.errors.html">Разъяснение сообщений об ошибках</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.file-upload.multiple.html">Загрузка на сервер нескольких файлов</a></div>
 <div class="up"><a href="features.file-upload.html">Загрузка файлов на сервер</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="features.file-upload.common-pitfalls" class="sect1">
   <h2 class="title">Наиболее распространенные ошибки</h2>
   <p class="simpara">
    Опция <em>MAX_FILE_SIZE</em> не должна позволять передачу файлов,
    размер которых превышает лимит, установленный конфигурационной директивой
    <a href="ini.core.html#ini.upload-max-filesize" class="link">upload_max_filesize</a> в <var class="filename">php.ini</var>.
    Ограничение по умолчанию составляет 2 мегабайта.
   </p>
   <p class="simpara">
    В случае, если установлены ограничения памяти, вам может понадобиться
    увеличить значение опции <a href="ini.core.html#ini.memory-limit" class="link">memory_limit</a>.
    Убедитесь в том, что значение <a href="ini.core.html#ini.memory-limit" class="link">memory_limit</a>
    достаточно велико.
   </p>
   <p class="simpara">
    В случае, если опция <a href="info.configuration.html#ini.max-execution-time" class="link">max_execution_time</a>
    установлена слишком маленьким значением, необходимое время работы скрипта
    может превышать это значение. Убедитесь в том, что значение
    <em>max_execution_time</em> достаточно велико.
   </p>
   <blockquote class="note"><p><strong class="note">Замечание</strong>: 
    <span class="simpara">
     Директива <a href="info.configuration.html#ini.max-execution-time" class="link">max_execution_time</a>
     касается исключительно времени, используемого непосредственно самим скриптом.
     Время, потраченное на внешние действия, такие как системные
     вызовы при помощи функции <span class="function"><a href="function.system.html" class="function">system()</a></span> или
     <span class="function"><a href="function.sleep.html" class="function">sleep()</a></span>, обращения к базе данных, а также
     время, потраченное на загрузку файла и другие действия, происходящие
     вне скрипта, не учитываются при определении максимально допустимого
     промежутка времени, отведенного для выполнения скрипта.
    </span>
   </p></blockquote>
   <div class="warning"><strong class="warning">Внимание</strong>
    <p class="simpara">
     Директива <a href="info.configuration.html#ini.max-input-time" class="link">max_input_time</a> указывает
     максимально допустимое время в секундах для получения входящих данных,
     в том числе и загружаемых файлов. В случае, если вы имеете дело с несколькими
     или большими файлами, либо удаленные пользователи используют медленный
     канал, ограничение по умолчанию в <em>60 секунд</em> может быть превышено.
    </p>
   </div>
   <p class="simpara">
    Если директива <a href="ini.core.html#ini.post-max-size" class="link">post_max_size</a>
    слишком мала, большие файлы не смогут быть загружены на сервер.
    Убедитесь, что значение директивы <em>post_max_size</em> достаточно велико.
   </p>
   <p class="simpara">
    Начиная с версии PHP 5.2.12, опция
    <a href="ini.core.html#ini.max-file-uploads" class="link">max_file_uploads</a>
    контролирует максимальное количество загружаемых файлов в течение
    одного запроса. Если загружается большее количество файлов,
    чем указано в этом ограничении, то массив <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES</a></var></var>
    прекратит дальнейшую обработку файлов по достижении этого ограничения.
    Например, если
    <a href="ini.core.html#ini.max-file-uploads" class="link">max_file_uploads</a> установлено
    в <em>10</em>, то <var class="varname"><var class="varname"><a href="reserved.variables.files.html" class="classname">$_FILES</a></var></var> никогда не будет
    содержать больше 10 элементов.
   </p>
   <p class="simpara">
    Если не проверять, с какими файлами вы работаете, пользователи могут
    получить доступ к конфиденциальной информации, расположенной в других
    директориях.
   </p>
   <p class="simpara">
    Следут заметить, что <span class="productname">CERN httpd</span> может
    отсечь все, что идет после первого пробела в получаемом от
    клиента заголовке content-type. Если у вас именно такой случай,
    <span class="productname">CERN httpd</span> не сможет корректно
    загрузить файлы.
   </p>
   <p class="simpara">
    Поскольку разные системы по-разному работают с файловой структурой,
    нет никаких гарантий того, что файлы с экзотическими именами
    (например, которые содержат пробельные символы) будут обработаны корректно.
   </p>
   <p class="simpara">
    Разработчики не должны использовать одинаковые имена для
    обычных полей ввода (тег <em>input</em>) и полей
    выбора файла в пределах одной и той же формы (например, используя имя
    для тега <em>input</em> наподобие <em>foo[]</em>).
   </p>
  </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="features.file-upload.errors.html">Разъяснение сообщений об ошибках</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="features.file-upload.multiple.html">Загрузка на сервер нескольких файлов</a></div>
 <div class="up"><a href="features.file-upload.html">Загрузка файлов на сервер</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
