<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Установка PHP-расширения в Windows</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.pecl.downloads.html">Загрузка расширений PECL</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.pecl.pear.html">Компиляция разделяемых расширений с помощью команды pecl</a></div>
 <div class="up"><a href="install.pecl.html">Установка расширений PECL</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="install.pecl.windows" class="sect1">
  <h2 class="title">Установка PHP-расширения в Windows</h2>
  <p class="para">
   В Windows есть два способа загрузки PHP-расширения: скомпилировать
   его вместе с PHP или загрузить DLL. Загрузка заранее
   скомпилированного расширения является наиболее простым и предпочитаемым
   способом.
  </p>
  <p class="para">
   Для загрузки расширения, оно должно присутствовать на вашей
   системе в виде &quot;.dll&quot; файла.
   Все расширения автоматически и периодически компилируются командой
   PHP (см. следующий раздел для загрузки).
  </p>
  <p class="para">
   За инструкциями по компиляции расширения в PHP обратитесь к
   разделу &quot;<a href="install.windows.building.html" class="link">Сборка из
   исходников</a>&quot;.
  </p>
  <p class="para">
   Для компиляции отдельного расширения (или DLL-файла), обратитесь
   к разделу &quot;<a href="install.windows.building.html" class="link">
   Сборка из исходников</a>&quot;. Если DLL-файла нет ни в стандартной поставке
   PHP ни в PECL, возможно, вам придется скомпилировать его вручную.
  </p>

  <div class="sect2" id="install.pecl.windows.find">
   <h3 class="title">Где найти расширение?</h3>
   <p class="para">
    PHP-расширения обычно имеют имена вида &quot;php_*.dll&quot; (где звездочка обозначает
    имя расширения) и располагаются в папке &quot;PHP\ext&quot; (&quot;PHP\extensions&quot; в PHP 4).
   </p>
   <p class="para">
    PHP поставляет расширения наиболее полезные большинству разработчиков. Такие
    расширения называются &quot;основными&quot; (&quot;core&quot;).
   </p>
   <p class="para">
    Однако, если вам требуется функционал, который не предоставляется
    ни одним из основных расширений, возможно, нужное вам расширение есть
    в PECL. Библиотека расширений сообщества PHP
    (The PHP Extension Community Library, PECL) является
    хранилищем расширений PHP, предоставляя каталог и хостинг
    всех известных расширений для скачки и дальнейшей разработки
    расширений в PHP.
   </p>
   <p class="para">
    Если вы разработали какое-либо расширение для собственных нужд,
    возможно, вы захотите хранить его в PECL, так, чтобы другие также
    могли воспользоваться результатами вашего труда. Хорошим побочным
    эффектом будет неплохой шанс получить обратную связь,
    благодарности (надеемся, что так и будет), сообщения об ошибках
    и даже исправления/патчи. Пожалуйста, прочтите http://pecl.php.net/package-new.php
    перед отправкой вашего расширения в PECL.
   </p>
  </div>

  <div class="sect2" id="install.pecl.windows.which">
   <h3 class="title">Какое расширение нужно загрузить?</h3>
   <p class="para">
    <em class="emphasis">Очень часто существует несколько версий расширения DLL:</em>
    <ul class="itemizedlist">
     <li class="listitem">
      <span class="simpara">
       Различные номера версий (по крайней мере первые два числа должны совпадать)
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       Различные настройки потокобезопасности
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       Различная архитектура процессора (x86, x64, ...)
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       Различные настройки отладки
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       <em>и т.д.</em>
      </span>
     </li>
    </ul>
   </p>
   <p class="para">
    Помните, что настройки ваших расширений должны совпадать со
    всеми настройками используемого вами бинарного файла PHP.
    Следующий PHP-скрипт выведет вам <em class="emphasis">все</em> все
    настройки PHP:
   </p>
   <p class="para">
    <div class="example" id="example-62">
     <p><strong>Пример #1 Вызов <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span></strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />phpinfo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    Или запустите из командной строки:
    <div class="example-contents screen">
<div class="cdata"><pre>
drive:\\path\to\php\executable\php.exe -i
</pre></div>
    </div>
   </p>
  </div>

  <div class="sect2" id="install.pecl.windows.loading">
   <h3 class="title">Загрузка расширения</h3>
   <p class="para">
    Наиболее распространенным способом загрузки PHP-расширения
    является его включение в конфигурационном файле <var class="filename">php.ini</var>.
    Обратите внимание, что большинство расширений уже прописаны
    в вашем <var class="filename">php.ini</var> и для их активации вам
    просто нужно удалить точку с запятой.
    <div class="example-contents screen">
<div class="cdata"><pre>
;extension=php_extname.dll
</pre></div>
    </div>
    <div class="example-contents screen">
<div class="cdata"><pre>
extension=php_extname.dll
</pre></div>
    </div>
   </p>
   <p class="para">
    Однако, некоторые веб-серверы создают путаницу, т.к. они не
    используют <var class="filename">php.ini</var>, расположенный
    в дистрибутиве PHP, а используют свой собственный.
    Узнать, где находится используемый сервером <var class="filename">php.ini</var>,
    можно посмотрев на выводимый путь в <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span>:
    <div class="example-contents screen">
<div class="cdata"><pre>
Configuration File (php.ini) Path  C:\WINDOWS
</pre></div>
    </div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Loaded Configuration File   C:\Program Files\PHP\5.2\php.ini
</pre></div>
    </div>
   </p>
   <p class="para">
    После активации расширения сохраните <var class="filename">php.ini</var>, перезагрузите веб-сервер
    и снова проверьте <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span>, в нем должен
    появиться отдельный раздел с новым расширением.
   </p>
  </div>

  <div class="sect2" id="install.pecl.windows.problemsolving">
   <h3 class="title">Решение проблем</h3>
   <p class="para">
    Если расширение не появилось в выводе <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span>,
    проверьте лог-файлы на наличие сообщений об ошибках.
   </p>
   <p class="para">
    Если вы используете PHP в командной строке (CLI), ошибки загрузки
    расширения будут доступны сразу же на экране.
   </p>
   <p class="para">
    Если вы используете PHP на веб-сервере, расположение и формат
    лог-файлов сильно зависит от используемого вами веб-сервера.
    Пожалуйста, обратитесь к документации вашего веб-сервера, т.к.
    в данном случае эта ситуация не управляется самим PHP.
   </p>
   <p class="para">
    Частой проблемой является расположение DLL-файлов, значение &quot;<a href="ini.core.html#ini.extension-dir" class="link">
    extension_dir</a>&quot; в <var class="filename">php.ini</var>, а также
    несовпадение настроек компиляции.
   </p>
   <p class="para">
    Если проблемой является несовпадение настроек компиляции, то
    возможно, вы скачали не тот DLL-файл. Попробуйте снова скачать
    расширение, на этот раз с правильными настройками. Еще раз,
    информация функции <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span> сильно помогает
    в этом случае.
   </p>
  </div>

 </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="install.pecl.downloads.html">Загрузка расширений PECL</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="install.pecl.pear.html">Компиляция разделяемых расширений с помощью команды pecl</a></div>
 <div class="up"><a href="install.pecl.html">Установка расширений PECL</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
