<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Настройка во время выполнения</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="errorfunc.installation.html">Установка</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="errorfunc.resources.html">Типы ресурсов</a></div>
 <div class="up"><a href="errorfunc.setup.html">Установка и настройка</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="errorfunc.configuration" class="section">
 <h2 class="title">Настройка во время выполнения</h2>
 <p class="simpara">
Поведение этих функций зависит от установок в <var class="filename">php.ini</var>.
</p>
 <p class="para">
  <table class="doctable table">
   <caption><strong>Настройки конфигурации протоколирования событий и ошибок</strong></caption>
   
    <thead>
     <tr>
      <th>Имя</th>
      <th>По умолчанию</th>
      <th>Меняемо</th>
      <th>Список изменений</th>
     </tr>

    </thead>

    <tbody class="tbody">
    <tr>
     <td><a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a></td>
     <td>NULL</td>
     <td>PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.display-errors" class="link">display_errors</a></td>
     <td>&quot;1&quot;</td>
     <td>PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.display-startup-errors" class="link">display_startup_errors</a></td>
     <td>&quot;0&quot;</td>
     <td>PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.log-errors" class="link">log_errors</a></td>
     <td>&quot;0&quot;</td>
     <td>PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.log-errors-max-len" class="link">log_errors_max_len</a></td>
     <td>&quot;1024&quot;</td>
     <td>PHP_INI_ALL</td>
     <td>Available since PHP 4.3.0.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.ignore-repeated-errors" class="link">ignore_repeated_errors</a></td>
     <td>&quot;0&quot;</td>
     <td>PHP_INI_ALL</td>
     <td>Доступно, начиная с PHP 4.3.0.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.ignore-repeated-source" class="link">ignore_repeated_source</a></td>
     <td>&quot;0&quot;</td>
     <td>PHP_INI_ALL</td>
     <td>Доступно, начиная с PHP 4.3.0.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.report-memleaks" class="link">report_memleaks</a></td>
     <td>&quot;1&quot;</td>
     <td>PHP_INI_ALL</td>
     <td>Доступно, начиная с PHP 4.3.0.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.track-errors" class="link">track_errors</a></td>
     <td>&quot;0&quot;</td>
     <td>PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.html-errors" class="link">html_errors</a></td>
     <td>&quot;1&quot;</td>
     <td>PHP_INI_ALL</td>
     <td>PHP_INI_SYSTEM в PHP &lt;= 4.2.3.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.xmlrpc-errors" class="link">xmlrpc_errors</a></td>
     <td>&quot;0&quot;</td>
     <td>PHP_INI_SYSTEM</td>
     <td>Доступно, начиная с PHP 4.1.0.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.xmlrpc-error-number" class="link">xmlrpc_error_number</a></td>
     <td>&quot;0&quot;</td>
     <td>PHP_INI_ALL</td>
     <td>Доступно, начиная с PHP 4.1.0.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.docref-root" class="link">docref_root</a></td>
     <td>&quot;&quot;</td>
     <td>PHP_INI_ALL</td>
     <td>Доступно, начиная с PHP 4.3.0.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.docref-ext" class="link">docref_ext</a></td>
     <td>&quot;&quot;</td>
     <td>PHP_INI_ALL</td>
     <td>Доступно, начиная с PHP 4.3.2.</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.error-prepend-string" class="link">error_prepend_string</a></td>
     <td>NULL</td>
     <td>PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.error-append-string" class="link">error_append_string</a></td>
     <td>NULL</td>
     <td>PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    <tr>
     <td><a href="errorfunc.configuration.html#ini.error-log" class="link">error_log</a></td>
     <td>NULL</td>
     <td>PHP_INI_ALL</td>
     <td class="empty">&nbsp;</td>
    </tr>

    </tbody>
   
  </table>

  Для подробного описания констант
PHP_INI_*, обратитесь к разделу <a href="configuration.changes.modes.html" class="xref">Где могут быть установлены параметры конфигурации</a>.
 </p>

 <p class="para">Краткое разъяснение конфигурационных
директив.</p>

 <p class="para">
  <dl>

   
    <dt id="ini.error-reporting">
     <code class="parameter">error_reporting</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      Задает уровень протоколирования ошибки. Параметр может быть либо числом,
      представляющим битовое поле, либо именованной константой.
      Соответствующие уровни и константы приведены в разделе
      <a href="errorfunc.constants.html" class="link">Предопределенные константы</a>,
      а также в <var class="filename">php.ini</var>. Для установки настройки во время выполнения 
      используйте функцию <span class="function"><a href="function.error-reporting.html" class="function">error_reporting()</a></span>. См. также
      описание директивы
      <a href="errorfunc.configuration.html#ini.display-errors" class="link">display_errors</a>.
     </p>
     <p class="para">
      В PHP 4 и PHP 5 значение по умолчанию <strong><code>E_ALL</code></strong>
      &amp; ~<strong><code>E_NOTICE</code></strong>. В этом режиме ошибки уровня
      <strong><code>E_NOTICE</code></strong> не показываются. Однако, они могут
      потребоваться во время разработки скрипта.
     </p>
     <blockquote class="note"><p><strong class="note">Замечание</strong>: 
      <p class="para">
       Включение <strong><code>E_NOTICE</code></strong> во время разработки имеет ряд
       преимуществ. Для отладки: NOTICE сообщения могут предупреждать о
       возможных ошибках в коде. Например, использование
       непроинициализированных переменных вызовет подобное сообщение. Это
       очень полезно при поиске опечаток и экономит время при отладке.
       NOTICE сообщения также предупреждают о плохом стиле. Например,
       <em>$arr[item]</em> лучше писать так:
       <em>$arr[&#039;item&#039;]</em> с тех пор, как PHP начал интерпретировать
       <em>&quot;item&quot;</em> как константу. Если это не константа, PHP
       принимает это выражение за строковый индекс элемента массива.
      </p>
     </p></blockquote>
     <blockquote class="note"><p><strong class="note">Замечание</strong>: 
      <p class="para">
       В PHP 5 доступен новый уровень ошибок <strong><code>E_STRICT</code></strong>.
       Так как <strong><code>E_STRICT</code></strong> не входит в состав
       <strong><code>E_ALL</code></strong>, необходимо явно включать этот уровень
       ошибок. Включение <strong><code>E_STRICT</code></strong> во время разработки
       также имеет свои преимущества. STRICT сообщения предлагают подсказки, которые могут помочь
       обеспечить лучшую функциональную и обратную совместимость вашего кода.
       Эти сообщения могут включать в себя такие вещи, как вызов нестатических методов
       статически, определение свойств в совместимого класса, в то время как
       они уже определены в используемом трейте, и до PHP 5.3 некоторые устаревшие возможности также
       будут выдавать ошибки уровня <strong><code>E_STRICT</code></strong>, такие как присвоение
       объектов по ссылке при создании экземпляра. 
      </p>
     </p></blockquote>
     <blockquote class="note"><p><strong class="note">Замечание</strong>: 
      <strong>PHP константы за пределами PHP</strong><br />
      <p class="para">
       Использование PHP констант за пределами PHP, например в файле
       <var class="filename">httpd.conf</var>, не имеет смысла, так как в таких
       случаях требуются целочисленные значения (<span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>). Более
       того, с течением времени будут добавляться новые уровни ошибок, а
       максимальное значение константы <strong><code>E_ALL</code></strong> соответственно
       будет расти. Поэтому в месте, где предполагается указать
       <strong><code>E_ALL</code></strong>, лучше задать большое целое число, чтобы
       перекрыть все возможные битовые поля. Таким числом может быть, например,
       <em>2147483647</em> (оно включит все возможные ошибки, не
       только <strong><code>E_ALL</code></strong>). 
      </p>
     </p></blockquote>
    </dd>

   

   
    <dt id="ini.display-errors">
     <code class="parameter">display_errors</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Эта настройка определяет, требуется ли выводить ошибки на экран вместе
      с остальным выводом, либо ошибки должны быть скрыты от пользователя.
     </p>
     <p class="para">
      Значение <em>&quot;stderr&quot;</em> посылает ошибки в поток
      <em>stderr</em> вместо <em>stdout</em>. Значение
      доступно в версии PHP 5.2.4. В ранних версиях эта директива имела тип
      <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>.
     </p>
     <blockquote class="note"><p><strong class="note">Замечание</strong>: 
      <p class="para">
       Этот функционал предназначен только для разработки и не должен
       использоваться в готовых производственных системах (например,
       системах, имеющих доступ в интернет).
      </p>
     </p></blockquote>
     <blockquote class="note"><p><strong class="note">Замечание</strong>: 
      <p class="para">
       Несмотря на то, что display_errors может быть установлена во время
       выполнения (функцией <span class="function"><a href="function.ini-set.html" class="function">ini_set()</a></span>), это ни на что
       не повлияет, если в скрипте есть фатальные ошибки. Это обусловлено
       тем, что ожидаемые действия программы во время выполнения не получат
       управления (не будут выполняться).
      </p>
     </p></blockquote>
    </dd>

   

   
    <dt id="ini.display-startup-errors">
     <code class="parameter">display_startup_errors</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      Даже если display_errors включена, ошибки, возникающие во время запуска
      PHP, не будут отображаться. Настойчиво рекомендуем включать
      директиву display_startup_errors только для отладки.
     </p>
    </dd>

   

   
    <dt id="ini.log-errors">
     <code class="parameter">log_errors</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      Отвечает за выбор журнала, в котором будут сохраняться сообщения об
      ошибках. Это может быть журнал сервера или
      <a href="errorfunc.configuration.html#ini.error-log" class="link">error_log</a>. Применимость этой
      настройки зависит от конкретного сервера.
     </p>
     <blockquote class="note"><p><strong class="note">Замечание</strong>: 
      <p class="para">
       Настоятельно рекомендуем при работе на готовых работающих
       web сайтах протоколировать ошибки там, где они отображаются.
      </p>
     </p></blockquote>
    </dd>

   

   
    <dt id="ini.log-errors-max-len">
     <code class="parameter">log_errors_max_len</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      Задание максимальной длины log_errors в байтах. В 
      <a href="errorfunc.configuration.html#ini.error-log" class="link">error_log</a> добавляется информация
      об источнике. Значение по умолчанию 1024. Установка значения в 0
      позволяет снять ограничение на длину log_errors. Это ограничение
      распространяется на записываемые в журнал ошибки, на отображаемые ошибки,
      а также на <var class="varname"><var class="varname"><a href="reserved.variables.phperrormsg.html" class="classname">$php_errormsg</a></var></var>.
     </p>

     <span class="simpara">Если используется <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>,
значение измеряется байтами. Вы также можете использовать сокращенную запись,
которая описана в <a href="faq.using.html#faq.using.shorthandbytes" class="link">этом разделе FAQ</a>.</span>

    </dd>

   

   
    <dt id="ini.ignore-repeated-errors">
     <code class="parameter">ignore_repeated_errors</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      Не заносить в журнал повторяющиеся ошибки. Ошибка признается
      повторяющейся, если происходит в том же файле и в той же строке, и если
      настройка
      <a href="errorfunc.configuration.html#ini.ignore-repeated-source" class="link">ignore_repeated_source</a>
      выключена.
     </p>
    </dd>

   

   
    <dt id="ini.ignore-repeated-source">
     <code class="parameter">ignore_repeated_source</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      Игнорировать источник ошибок при пропуске повторяющихся сообщений. Когда
      эта настройка включена, повторяющиеся сообщения об ошибках не будут 
      заноситься в журнал вне зависимости от того, в каких файлах и строках
      они происходят.
     </p>
    </dd>

   

   
    <dt id="ini.report-memleaks">
     <code class="parameter">report_memleaks</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      Если настройка включена (по умолчанию), будет формироваться отчет об
      утечках памяти, зафиксированных менеджером памяти Zend. На POSIX
      платформах этот отчет будет направляться в поток stderr. На Windows
      платформах он будет посылаться в отладчик функцией OutputDebugString(),
      просмотреть отчет в этом случае можно с помощью утилит, вроде 
      <a href="http://technet.microsoft.com/en-us/sysinternals/bb896647" class="link external">&raquo;&nbsp;DbgView</a>. Эта настройка имеет
      смысл в сборках, предназначенных для отладки. При этом
      <strong><code>E_WARNING</code></strong> должна быть включена в список
      error_reporting.
     </p>
    </dd>

   

   
    <dt id="ini.track-errors">
     <code class="parameter">track_errors</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      Если включена, последняя произошедшая ошибка будет первой в переменной
      <var class="varname"><var class="varname"><a href="reserved.variables.phperrormsg.html" class="classname">$php_errormsg</a></var></var>.
     </p>
    </dd>

   

   
    <dt id="ini.html-errors">
     <code class="parameter">html_errors</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      Отключает HTML тэги в сообщениях об ошибках. Новый формат HTML сообщений
      об ошибках предоставляет возможность вставлять ссылки в сообщения и
      перенаправлять пользователя на страницы с описаниями ошибок. За такие
      ссылки ответственны
      <a href="errorfunc.configuration.html#ini.docref-root" class="link">docref_root</a> и
      <a href="errorfunc.configuration.html#ini.docref-ext" class="link">docref_ext</a>.
     </p>
    </dd>

   

   
    <dt id="ini.xmlrpc-errors">
     <code class="parameter">xmlrpc_errors</code>
     <span class="type"><a href="language.types.boolean.html" class="type boolean">boolean</a></span>
    </dt>

    <dd>

     <p class="para">
      Переключает форматирование сообщений об ошибках на формат XML-RPC
      сообщений.
     </p>
    </dd>

   

   
    <dt id="ini.xmlrpc-error-number">
     <code class="parameter">xmlrpc_error_number</code>
     <span class="type"><a href="language.types.integer.html" class="type integer">integer</a></span>
    </dt>

    <dd>

     <p class="para">
      Используется в качестве значения XML-RPC элемента faultCode.
     </p>
    </dd>

   

   
    <dt id="ini.docref-root">
     <code class="parameter">docref_root</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Новый формат ошибок содержит ссылку на страницу с описанием ошибки или
      функции, вызвавшей эту ошибку. Можно разместить копию
      описаний ошибок и функций локально и задать ini директиве значение
      URL этой копии. Если, например, локальная копия описаний доступна по
      адресу <em>&quot;/manual/&quot;</em>, достаточно прописать
      <strong class="userinput"><code>docref_root=/manual/</code></strong>. Дополнительно, необходимо
      задать значение директиве docref_ext, отвечающей за соответствие
      расширений файлов файлам описаний вашей локальной копии,
      <strong class="userinput"><code>docref_ext=.html</code></strong>. Также возможно использование
      внешних ссылок. Например, 
      <strong class="userinput"><code>docref_root=http://manual/en/</code></strong> или
      <strong class="userinput"><code>docref_root=&quot;http://landonize.it/?how=url&amp;theme=classic&amp;filter=Landon
      &amp;url=http%3A%2F%2Fwww.php.net%2F&quot;</code></strong>
     </p>
     <p class="para">
      В большинстве случаев вам потребуется, чтобы значение docref_root оканчивалось
      слешем <em>&quot;/&quot;</em>. Тем не менее, бывают случаи, когда
      это не требуется (см. выше, второй пример).
     </p>
     <blockquote class="note"><p><strong class="note">Замечание</strong>: 
      <p class="para">
       Этот функционал предназначен только для разработки, так как он облегчает
       поиск описаний функций и ошибок. Не используйте его в готовых
       производственных системах (например, имеющих доступ в интернет).
      </p>
     </p></blockquote>
    </dd>

   

   
    <dt id="ini.docref-ext">
     <code class="parameter">docref_ext</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      См. <a href="errorfunc.configuration.html#ini.docref-root" class="link">docref_root</a>.
     </p>
     <blockquote class="note"><p><strong class="note">Замечание</strong>: 
      <p class="para">
       Значение docref_ext должно начинаться с точки <em>&quot;.&quot;</em>.
      </p>
     </p></blockquote>
    </dd>

   

   
    <dt id="ini.error-prepend-string">
     <code class="parameter">error_prepend_string</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Строка, которая будет выводиться непосредственно перед сообщением об
      ошибке.
     </p>
    </dd>

   

   
    <dt id="ini.error-append-string">
     <code class="parameter">error_append_string</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Строка, которая будет выводиться после сообщения об ошибке.
     </p>
    </dd>

   

   
    <dt id="ini.error-log">
     <code class="parameter">error_log</code>
     <span class="type"><a href="language.types.string.html" class="type string">string</a></span>
    </dt>

    <dd>

     <p class="para">
      Имя файла, в который будут добавляться сообщения об ошибках. Файл
      должен быть открыт для записи пользователем web сервера. Если
      используется специальное значение <em>syslog</em>, то
      сообщения будут посылаться в системный журнал. На Unix системах это
      syslog(3), на Windows NT - журнал событий. Системный журнал не
      поддерживается в Windows 95. См. также: <span class="function"><a href="function.syslog.html" class="function">syslog()</a></span>.
      Если директива не задана, ошибки будут направляться в SAPI журналы.
      Например, это могут быть журналы ошибок Apache или поток
      <em>stderr</em> командной строки CLI.
      Смотрите также функцию <span class="function"><a href="function.error-log.html" class="function">error_log()</a></span>.
     </p>
    </dd>

   

  </dl>

 </p>
</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="errorfunc.installation.html">Установка</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="errorfunc.resources.html">Типы ресурсов</a></div>
 <div class="up"><a href="errorfunc.setup.html">Установка и настройка</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
