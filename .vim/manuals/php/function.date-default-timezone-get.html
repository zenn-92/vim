<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Возвращает временную зону, используемой по умолчанию всеми функциями
   даты/времени в скрипте</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.date-date-set.html">date_date_set</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.date-default-timezone-set.html">date_default_timezone_set</a></div>
 <div class="up"><a href="ref.datetime.html">Функции даты и времени</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.date-default-timezone-get" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">date_default_timezone_get</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.1.0)</p><p class="refpurpose"><span class="refname">date_default_timezone_get</span> &mdash; <span class="dc-title">
   Возвращает временную зону, используемой по умолчанию всеми функциями
   даты/времени в скрипте
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.date-default-timezone-get-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>date_default_timezone_get</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para rdfs-comment">
   Функция пытается получить временную зону по умолчанию по порядку
   следующими способами:
   <ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      Чтение настройки временной зоны с помощью функции
      <span class="function"><a href="function.date-default-timezone-set.html" class="function">date_default_timezone_set()</a></span> (если применимо)
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <em class="emphasis">Только</em> до версии PHP 5.4.0: чтение
      переменной окружения <var class="varname"><var class="varname">TZ</var></var> (если она не
      пуста)
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Чтение значения ini настройки <a href="datetime.configuration.html#ini.date.timezone" class="link">date.timezone</a> (если задана)
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <em class="emphasis">Только</em> до версии PHP 5.4.0: опрос
      операционной системы (если поддерживается и разрешено ОС). При
      этом используется <em class="emphasis">механизм угадывания</em>
      временной зоны. Этот механизм не всегда корректно работает. Если
      используется этот метод (все предыдущие не дали результата), 
      будет выдано предупреждение. Не стоит полагаться на результат, полученный
      этим способом, вместо этого лучше задать в параметрах временной зоны <a href="datetime.configuration.html#ini.date.timezone" class="link">date.timezone</a> правильное значение.
     </p>
    </li>
   </ul>
  </p>
  <p class="para">
   Если ни один из способов не принес результата, 
   <span class="methodname"><strong>date_default_timezone_get()</strong></span> вернет временную
   зону <em>UTC</em>.
  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.date-default-timezone-get-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает <span class="type"><a href="language.types.string.html" class="type string">string</a></span>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.date-default-timezone-get-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.4.0</td>
       <td>
        Переменная окружения <em>TZ</em> больше не используется 
        при угадывании временной зоны.
       </td>
      </tr>

      <tr>
       <td>5.4.0</td>
       <td>
        Временная зона больше не угадывается с помощью информации, полученной
        из операционной системы, так как данный метод нестабилен и на
        него нельзя полагаться.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.date-default-timezone-get-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="example-2343">
    <p><strong>Пример #1 Получение временной зоны по умолчанию</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />date_default_timezone_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'Europe/London'</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">date_default_timezone_get</span><span style="color: #007700">())&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'date_default_timezone_set:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date_default_timezone_get</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">'&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'date.timezone'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'date.timezone:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">ini_get</span><span style="color: #007700">(</span><span style="color: #DD0000">'date.timezone'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>Результатом выполнения данного примера
будет что-то подобное:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
date_default_timezone_set: Europe/London
date.timezone: Europe/London
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-2344">
    <p><strong>Пример #2 Получение аббревиатуры временной зоны</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />date_default_timezone_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'America/Los_Angeles'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">date_default_timezone_get</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">'&nbsp;=&gt;&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'e'</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">'&nbsp;=&gt;&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'T'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>Результат выполнения данного примера:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
America/Los_Angeles =&gt; America/Los_Angeles =&gt; PST
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.date-default-timezone-get-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.date-default-timezone-set.html" class="function" rel="rdfs-seeAlso">date_default_timezone_set()</a> - Устанавливает временную зону по умолчанию для всех функций 
   даты/времени в скрипте</span></li>
    <li class="member"><a href="timezones.html" class="xref">Список поддерживаемых временных зон</a></li>
   </ul>
  </p>
 </div>

</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.date-date-set.html">date_date_set</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.date-default-timezone-set.html">date_default_timezone_set</a></div>
 <div class="up"><a href="ref.datetime.html">Функции даты и времени</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
