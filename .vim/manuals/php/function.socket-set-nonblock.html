<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Устанавливает неблокирующий режим для файлового дескриптора fd</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.socket-set-block.html">socket_set_block</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.socket-set-option.html">socket_set_option</a></div>
 <div class="up"><a href="ref.sockets.html">Сокетные Функции</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.socket-set-nonblock" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">socket_set_nonblock</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5)</p><p class="refpurpose"><span class="refname">socket_set_nonblock</span> &mdash; <span class="dc-title">Устанавливает неблокирующий режим для файлового дескриптора fd </span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.socket-set-nonblock-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>socket_set_nonblock</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$socket</code></span>
   )</div>

  <p class="para rdfs-comment">
   Функция <span class="function"><strong>socket_set_nonblock()</strong></span> устанавливает флаг 
   <strong><code>O_NONBLOCK</code></strong> на сокете, указанном в параметре
   <code class="parameter">socket</code>.
  </p>
  <p class="para">
   Когда операция (например, получение, отправка, соединение, принятие соединения, ...) выполняется на
   неблокирующем сокете, скрипт не будет приостанавливать своё исполнение до получения сигнала или
   возможности выполнить операцию. Если выполняемая операция должна привести к блокированию
   выполнения скрипта, то вместо этого вызываемая функция возвратит ошибку.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.socket-set-nonblock-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">socket</code></dt>

     <dd>

      <p class="para">
       Действующий ресурс сокета, созданный при помощи функции <span class="function"><a href="function.socket-create.html" class="function">socket_create()</a></span>
       или <span class="function"><a href="function.socket-accept.html" class="function">socket_accept()</a></span>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.socket-set-nonblock-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает <strong><code>TRUE</code></strong> в случае успешного завершения  или <strong><code>FALSE</code></strong> в случае возникновения ошибки.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.socket-set-nonblock-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="example-4635">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>socket_set_nonblock()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$socket&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">socket_create_listen</span><span style="color: #007700">(</span><span style="color: #0000BB">1223</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">socket_set_nonblock</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">socket_accept</span><span style="color: #007700">(</span><span style="color: #0000BB">$socket</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     Этот пример создаёт слушающий сокет на всех интерфейсах на порту 1223 и
     устанавливает сокет в режим <strong><code>O_NONBLOCK</code></strong>. 
     <span class="function"><a href="function.socket-accept.html" class="function">socket_accept()</a></span> будет немедленно возвращать ошибку, если
     только именно в этот момент нету ожидающего соединения.
    </p></div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.socket-set-nonblock-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.socket-set-block.html" class="function" rel="rdfs-seeAlso">socket_set_block()</a> - Устанавливает блокирующий режим на ресурсе сокета</span></li>
    <li class="member"><span class="function"><a href="function.socket-set-option.html" class="function" rel="rdfs-seeAlso">socket_set_option()</a> - Устанавливает опции для сокета</span></li>
   </ul>
  </p>
 </div>


</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.socket-set-block.html">socket_set_block</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.socket-set-option.html">socket_set_option</a></div>
 <div class="up"><a href="ref.sockets.html">Сокетные Функции</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
